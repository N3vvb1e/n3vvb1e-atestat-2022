UPDATE JOACA1
SET REZULTAT = 'RESPINS', MEDIA = (PROBA1 + PROBA2)/2

UPDATE JOACA1
SET REZULTAT = 'ADMIS' WHERE MEDIA >= 6;

CREATE TABLE ADMITERE12
(
    "ID" NUMBER(5, 2),
    "NUME" VARCHAR2(9),
    "PRENUME" VARCHAR2(9),
    "PROBA1" NUMBER(5, 2),
    "PROBA2" NUMBER(5, 2), 
    "MEDIA" NUMBER(5, 2),
    "ORAS" VARCHAR2(10), 
    "DATAN" DATE,
    "REZULTAT" VARCHAR2(7),
    "SEX" VARCHAR2(1),
    CONSTRAINT "ID" PRIMARY KEY("ID")
    USING INDEX ENABLE
)

UPDATE ADMITERE12
SET DATAN = '20-Jan-1986'
WHERE ID = 2

Setup

UPDATE ADMITERE12_1
SET REZULTAT = 'RESPINS'

UPDATE ADMITERE12
SET MEDIA = ROUND((PROBA1 + PROBA2)/2, 2)

UPDATE ADMITERE12
SET REZULTAT = 'ADMIS' WHERE ID IN
(
 SELECT ID FROM
     (
       SELECT ID FROM ADMITERE12 WHERE PROBA1 >=5 AND PROBA2 >= 5 ORDER BY MEDIA DESC
     )
 WHERE ROWNUM <= 20
)

1.
SELECT NUME, PRENUME, REZULTAT, MEDIA FROM ADMITERE12
WHERE UPPER(TRIM(SEX)) = 'M'ORDER BY MEDIA DESC


SELECT NUME, PRENUME, REZULTAT, MEDIA FROM ADMITERE12
WHERE UPPER(TRIM(SEX)) = 'F' ORDER BY MEDIA DESC

2.
SELECT *
FROM
(SELECT NUME, PRENUME, MEDIA, DATAN, ORAS 
FROM ADM 
WHERE UPPER(TRIM(rezultat))=='ADMIS'
ORDER BY MEDIA DESC
)
WHERE ROWNUM<=5;

SELECT *
FROM
(SELECT NUME, PRENUME, MEDIA, DATAN, ORAS 
FROM ADM 
WHERE UPPER(TRIM(rezultat))=='ADMIS'
ORDER BY MEDIA
)
WHERE ROWNUM<=5;

3.
SELECT NUME, PRENUME, ORAS, DATAN, MEDIA FROM ADMITERE12
WHERE ADD_MONTHS(DATAN, 18*12) <= SYSDATE AND ADD_MONTHS(DATAN, 20*12) >= SYSDATE AND UPPER(TRIM(REZULTAT)) = 'ADMIS'
ORDER BY DATAN, NUME

4.
SELECT NUME, PRENUME, PROBA1, REZULTAT FROM ADMITERE12
ORDER BY PROBA1 DESC

SELECT NUME, PRENUME, PROBA2, REZULTAT FROM ADMITERE12
ORDER BY PROBA2 DESC


5.
SELECT NUME, PRENUME, MEDIA, REZULTAT
FROM ADMITERE12
ORDER BY NUME, PRENUME

6.
SELECT TRUNC(s1.c1*100/COUNT(*), 0) || '%' sub_5, 
       TRUNC(s2.c2*100/COUNT(*), 0) || '%' intre_5_7,
       TRUNC(s3.c3*100/COUNT(*), 0) || '%' intre_7_9,
       TRUNC(s4.c4*100/COUNT(*), 0) || '%' peste_9
FROM ADMITERE12,
(SELECT COUNT(*)c1 FROM ADMITERE12 WHERE MEDIA <= 5)s1,
(SELECT COUNT(*)c2 FROM ADMITERE12 WHERE MEDIA > 5 AND MEDIA <= 7)s2,
(SELECT COUNT(*)c3 FROM ADMITERE12 WHERE MEDIA > 7 AND MEDIA < 9)s3,
(SELECT COUNT(*)c4 FROM ADMITERE12 WHERE MEDIA >= 9)s4
GROUP BY s1.c1, s2.c2, s3.c3, s4.c4


7.

SELECT NUME, PRENUME, MEDIA, REZULTAT, ORAS FROM ADMITERE12
ORDER BY ORAS, NUME, PRENUME

SELECT RANK() OVER(ORDER BY NUME, PRENUME)nr, NUME, PRENUME, MEDIA, REZULTAT FROM ADMITERE12
WHERE UPPER(TRIM(ORAS)) = 'CLUJ'
ORDER BY NUME, PRENUME DESC

8.

SELECT NUME, PRENUME, MEDIA, ORAS FROM ADMITERE12 b
WHERE MEDIA=
(
 SELECT MAX(MEDIA) FROM ADMITERE12 a
 where a.ORAS = b.ORAS
)
ORDER BY ORAS

9.

SELECT NUME, PRENUME, PROBA1, PROBA2, MEDIA, REZULTAT, DATAN FROM ADMITERE12
WHERE UPPER(TRIM(REZULTAT)) = 'ADMIS' AND UPPER(TRIM(ORAS)) = 'CLUJ'
ORDER BY MEDIA, NUME, PRENUME 

SELECT NUME, PRENUME, PROBA1, PROBA2, MEDIA, REZULTAT, DATAN FROM ADMITERE12
WHERE UPPER(TRIM(REZULTAT)) = 'RESPINS' AND UPPER(TRIM(ORAS)) = 'CLUJ'
ORDER BY MEDIA, NUME, PRENUME 

10.

UPDATE ADMITERE12
SET PROBA1 = 9.50
WHERE UPPER(TRIM(NUME)) = 'DINITA' AND UPPER(TRIM(PRENUME)) = 'RAZVAN'

UPDATE ADMITERE12
SET PROBA2 = 5
WHERE UPPER(TRIM(NUME)) = 'LAMPINEAN' AND UPPER(TRIM(PRENUME)) = 'NEONILA'

11.

SELECT NUME, PRENUME, ORAS, MEDIA FROM
(
    SELECT NUME, PRENUME, ORAS, MEDIA, PROBA1, REZULTAT FROM ADMITERE12
    WHERE UPPER(TRIM(ORAS)) != 'BRASOV' AND UPPER(TRIM(REZULTAT)) = 'ADMIS'
    ORDER BY MEDIA, PROBA1 DESC
)
WHERE ROWNUM <= 4


12.

SELECT NUME, PRENUME, ORAS, MEDIA FROM
(
    SELECT NUME, PRENUME, ORAS, MEDIA, PROBA1, SEX, REZULTAT FROM ADMITERE12
    WHERE UPPER(TRIM(REZULTAT)) = 'ADMIS' AND UPPER(TRIM(ORAS)) != 'BRASOV' AND UPPER(TRIM(SEX)) = 'F'
    ORDER BY MEDIA DESC, PROBA1 DESC
)
WHERE ROWNUM <= 3
ORDER BY MEDIA DESC

SELECT NUME, PRENUME, ORAS, MEDIA FROM
(
    SELECT NUME, PRENUME, ORAS, MEDIA, PROBA1, SEX, REZULTAT FROM ADMITERE12
    WHERE UPPER(TRIM(REZULTAT)) = 'ADMIS' AND UPPER(TRIM(ORAS)) != 'BRASOV' AND UPPER(TRIM(SEX)) = 'M'
    ORDER BY MEDIA DESC, PROBA1 DESC
)
WHERE ROWNUM <= 2
ORDER BY MEDIA DESC


13.

SELECT NUME, PRENUME, MEDIA FROM ADMITERE12
WHERE MEDIA >= 8.50 AND MEDIA <= 9.74
ORDER BY NUME ASC, PRENUME ASC

14.

SELECT NUME, PRENUME, DATAN, ORAS FROM ADMITERE12
WHERE UPPER(TRIM(REZULTAT)) = 'RESPINS' AND UPPER(TRIM(SEX)) = 'M' AND ADD_MONTHS(DATAN, 35*12) >= TO_DATE(SYSDATE, 'DD MONTH YYYY')
ORDER BY NUME;

SELECT NUME, PRENUME, DATAN, ORAS FROM ADMITERE12
WHERE NOT(UPPER(TRIM(REZULTAT))-) = 'RESPINS' AND UPPER(TRIM(SEX)) = 'M' AND ADD_MONTHS(DATAN, 35*12) >= TO_DATE(SYSDATE, 'DD MONTH YYYY')
ORDER BY NUME;

15.


SELECT COUNT(*)nr, TRUNC(s1.c1 * 100 / COUNT(*), 0) || '%' procent
FROM ADMITERE12,
     (
        SELECT COUNT(*) c1 FROM ADMITERE12
        WHERE UPPER(TRIM(REZULTAT)) = 'ADMIS' AND UPPER(TRIM(ORAS)) = 'BRASOV' )s1
            WHERE UPPER(TRIM(ORAS)) = 'BRASOV'
       GROUP BY s1.c1


16.

SELECT TRUNC(AVG(PROBA1), 2) AS Media_proba_1, TRUNC(AVG(PROBA2), 2) AS Media_proba_2, TRUNC(AVG(MEDIA), 2) AS Media_Media FROM ADMITERE12
WHERE UPPER(TRIM(REZULTAT)) = 'ADMIS'

17.

SELECT NUME, PRENUME, MEDIA, ORAS FROM ADMITERE12
WHERE UPPER(TRIM(REZULTAT)) = 'RESPINS' AND MEDIA > (SELECT MIN(MEDIA) FROM ADMITERE12 WHERE UPPER(TRIM(REZULTAT)) = 'ADMIS')

18.

SELECT TRUNC(AVG(MEDIA), 2) AS MEDIA_ADMISI FROM ADMITERE12
WHERE UPPER(TRIM(REZULTAT)) = 'RESPINS'

SELECT TRUNC(AVG(MEDIA), 2) AS MEDIA_ADMISI FROM ADMITERE12
WHERE UPPER(TRIM(REZULTAT)) = 'ADMIS'

19.

SELECT ORAS, COUNT(*) nrcandidati FROM ADMITERE12
GROUP BY ORAS
ORDER BY ORAS

SELECT ORAS, COUNT(*) AS NUMAR_CANDIDATI FROM ADMITERE12
GROUP BY ORAS
HAVING COUNT(*) = ( SELECT MAX(c) FROM ( SELECT COUNT(*) c FROM ADMITERE12 GROUP BY ORAS) ) 


20.

SELECT * FROM
(
SELECT RANK() OVER(ORDER BY MEDIA DESC, NUME ASC) nr, NUME, PRENUME, ORAS, MEDIA, DATAN FROM ADMITERE12
WHERE UPPER(TRIM(REZULTAT)) = 'ADMIS' 
ORDER BY MEDIA DESC, NUME ASC
)
WHERE MOD(NR, 2) = 0


SELECT * FROM
(
SELECT RANK() OVER(ORDER BY MEDIA DESC, NUME ASC) nr, NUME, PRENUME, ORAS, MEDIA, DATAN FROM ADMITERE12
WHERE UPPER(TRIM(REZULTAT)) = 'ADMIS' 
ORDER BY MEDIA DESC, NUME ASC
)
WHERE MOD(NR, 2) = 1

